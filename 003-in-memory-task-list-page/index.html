<html>
<body>
<div style="width: 400px; margin: 100px auto 0;">
    <input id="new-task" type="text">
    <button id="add-new-task">Add task</button>
    <h3>Tasks:</h3>
    <div id="tasks-holder"></div>
</div>
<script>
    const addTask = function () {
        renderTaskElement({description: document.getElementById("new-task").value, isCompleted: false});
        document.getElementById("new-task").value = "";
    };
    document.getElementById("add-new-task").addEventListener("click", addTask);

    const renderTaskElement = function (task) {
        const listItem = document.createElement("div");

        const checkBox = document.createElement("input");
        checkBox.type = "checkBox";
        checkBox.onchange = toggleTaskState;
        checkBox.checked = task.isCompleted;
        listItem.appendChild(checkBox);

        const deleteButton = document.createElement("button");
        deleteButton.innerText = "X";
        deleteButton.onclick = deleteTask;
        listItem.appendChild(deleteButton);

        listItem.appendChild(document.createTextNode(task.description));
        listItem.style.textDecoration = task.isCompleted ? "line-through" : "none";

        document.getElementById("tasks-holder").appendChild(listItem);
    };

    const deleteTask = function () {
        const listItem = this.parentNode;
        const taskHolder = listItem.parentNode;
        taskHolder.removeChild(listItem);
    };

    const toggleTaskState = function () {
        if (this.parentNode.querySelector('input[type="checkbox"]').checked)
            this.parentNode.style.textDecoration = "line-through";
        else
            this.parentNode.style.textDecoration = "none";
    };

    renderTaskElement({description: "Pay Bills", isCompleted: false});
    renderTaskElement({description: "Go Shopping", isCompleted: true});
</script>
</body>
</html>